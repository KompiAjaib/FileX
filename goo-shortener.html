<style type='text/css'>
.shorten-box{font-size:100%;font-weight:bold;color:#666!important;margin:10px 0}
#output{display:inline-block;}
.shorten-text{display:inline-block;margin-right:5px;border:1px solid transparent;line-height:1;padding:5px 0;}
.output-shorturl{display:inline-block;background:#f8f8f8;border:1px solid #ccc;border-radius:3px;padding:4px 8px 3px;margin:0;box-shadow: inset 0px 0px 1px rgba(0,0,0,.08);position:relative}
.short-urltext{font-family:Consolas,Monaco,'Andale Mono',monospace;white-space:initial;word-spacing:normal;word-break:normal;hyphens:none;color:#000;cursor:pointer;line-height:1}
.output-shorturl .short-urltext:focus,.output-shorturl .short-urltext:active{outline:none}
.title-shorturl{position:absolute;top:-35px;width:120px;left:50%;margin-left:-69px;background:#f8f8f8;border:1px solid #ccc;border-radius:3px;line-height:1;padding:5px 8px;text-align:center;display:none}
.title-shorturl:before{content:"";height:0;width:0;border-top:10px solid #ccc;border-left:10px solid transparent;border-right:10px solid transparent;position:absolute;bottom:-10px;left:50%;margin-left:-10px;}
.title-shorturl:after{content:"";height:0;width:0;border-top:8px solid #f8f8f8;border-left:8px solid transparent;border-right:8px solid transparent;position:absolute;bottom:-8px;left:50%;margin-left:-8px;}
.output-shorturl:hover .title-shorturl{display:block}
.clear{clear:both}
</style>
<script>
var urls = getQueryVariable("url");
function getQueryVariable(variable) {
	var query = window.location.search.substring(1);
	var vars = query.split("&");
	for (var i=0;i<vars.length;i++) {
		var pair = vars[i].split("=");
		if(pair[0] == variable){return pair[1];}
	}
	return(false);
}
</script>
<script>
(function() { var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/client.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })();

function makeShort() {
    var longUrl = document.getElementById("longurl").value;
    var request = gapi.client.urlshortener.url.insert({
        'resource': {
            'longUrl': longUrl
        }
    });
    request.execute(function(response) {
        if (response.id != null) {
            str = "";
            str += "<div class='output-shorturl'><span class='short-urltext' contenteditable='true' onClick='document.execCommand(&quot;selectAll&quot;,false,null)'>"+ response.id +"</span><span class='title-shorturl'>Click and CTRL+C</span></div>";
            document.getElementById("output").innerHTML = str;
        } else {
            alert("ERROR: creating short url \n" + response.error);
        }
    });
}

function load() {
    gapi.client.setApiKey('AIzaSyAzyu1AhDhBhVr2eTKvAV254vhd7bH0bwI');
    gapi.client.load('urlshortener', 'v1', function() {
        document.getElementById("output").innerHTML = makeShort();
    });
}
window.onload = load;
</script>
<div class='shorten-box'>
<script>document.write('<input value="'+ urls +'" id="longurl" name="url" type="hidden"/> '); </script>
<div class='shorten-text'>Share this with short URL:</div>
<div id='output'></div>
<div class='clear'></div>
  </div>